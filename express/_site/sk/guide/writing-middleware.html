<!DOCTYPE html>
<!---
 Copyright (c) 2016 StrongLoop, IBM, and Express Contributors
 License: MIT
-->

<html lang="sk" prefix="og: http://ogp.me/ns#">

  <head>
    <title>Tvorba middleware pre pou≈æitie v Express applik√°ci√°ch</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="og:image" content="https://expressjs.com/images/express-facebook-share.png">
    <link rel="icon" type="image/png" href="/images/favicon.png" />
    <link rel="stylesheet" href="/css/style.css?_=1652552968">
    <link rel="stylesheet" href="/css/dropit.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;amp;subset=latin,latin-ext">
    <link rel="stylesheet" href="/css/sk.css">
    <link rel="stylesheet" href="/css/nodeinteractive.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script data-cfasync="false" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script data-cfasync="false" src="/js/ismobile.js"></script>
    <script data-cfasync="false" src="/js/app.js"></script>
    <script data-cfasync="false" src="/js/retina.js"></script>
    <script data-cfasync="false" src="/js/dropit.js"></script>
    <script data-cfasync="false" src="/js/prism.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

</head>


  
  <body class="non-en-doc">
  

    <section class="page content">

      <header>
  <div id="blm-banner">
    Black Lives Matter. <br>
    <a id="blm-donate"  href="https://support.eji.org/give/153413/#!/donation/checkout">Support the Equal Justice Initiative</a>.
  </div>
    <div id="mobile-menu">
        <div id="nav-button" class="fa fa-bars fa-2x button"></div>
    </div>
    <section id="logo"><a href="/" class="express">Express</a>
    </section>
    <div id="navbar">
        <input id="q" placeholder="üîé search">
        <ul id="navmenu">
            <li><a href="/sk/" id="home-menu" >Domov</a></li>
            <li>
                <ul id="getting-started-menu" class="menu">
                    <li><a href="/sk/starter/installing.html" >Zaƒç√≠name</a>
                        <ul>
                            <li>
                                <a href="/sk/starter/installing.html">
                              In≈°tal√°cia
                            </a>
                            </li>
                            <li>
                                <a href="/sk/starter/hello-world.html">
                              Hello world
                            </a>
                            </li>
                            <li>
                                <a href="/sk/starter/generator.html">
                            Express gener√°tor
                          </a>
                            </li>
                            <li>
                                <a href="/sk/starter/basic-routing.html">
                              Z√°kladn√Ω routing
                            </a>
                            </li>
                            <li>
                                <a href="/sk/starter/static-files.html">
                              Statick√© s√∫bory
                            </a>
                            </li>
                            <li>
                                <a href="/sk/starter/faq.html">
                              FAQ
                            </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <ul id="guide-menu" class="menu">
                    <li><a href="/sk/guide/routing.html"  class="active" >Pr√≠ruƒçka</a>
                        <ul>
                            <li><a href="/sk/guide/routing.html">Routing</a>
                            </li>
                            <li><a href="/sk/guide/writing-middleware.html">Tvorba middleware</a>
                            </li>
                            <li><a href="/sk/guide/using-middleware.html">Pou≈æitie middleware</a>
                            </li>
                            <li><a href="/sk/guide/using-template-engines.html">Pou≈æitie template enginov</a>
                            </li>
                            <li><a href="/sk/guide/error-handling.html">Error handling</a>
                            </li>
                            <li><a href="/sk/guide/debugging.html">Debuggovanie</a>
                            </li>
                            <li><a href="/sk/guide/behind-proxies.html">Pou≈æitie Express za proxy</a>
                            </li>
                            <li><a href="/sk/guide/migrating-4.html">Prechod na Express 4</a>
                            </li>
                            <li><a href="/sk/guide/migrating-5.html">Prechod na Express 5</a>
                            </li>
                            <li><a href="/sk/guide/database-integration.html">Integr√°cia s datab√°zou</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <ul id="application-menu" class="menu">
                    <li><a href="/sk/4x/api.html" >API referenƒçn√° pr√≠ruƒçka</a>
                        <ul>
                            <li><a href="/sk/4x/api.html">4.x</a>
                            </li>
                            <li><a href="/sk/3x/api.html">3.x (zastaral√©)</a>
                            </li>
                            <li><a href="/2x/">2.x (zastaral√©)</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <ul id="advanced-topics-menu" class="menu">
                    <li><a href="/sk/advanced/developing-template-engines.html" >Pokroƒçil√© t√©my</a>
                        <ul>
                            <li><a href="/sk/advanced/developing-template-engines.html">Templatovacie enginy</a>
                            </li>
                            <li><a href="/sk/advanced/pm.html">Pou≈æitie spr√°vcov procesov</a>
                            </li>
                            <li><a href="/sk/advanced/security-updates.html">Security - aktualiz√°cie</a>
                            </li>
                            <li><a href="/sk/advanced/best-practice-security.html">Security - osvedƒçen√© postupy</a>
                            </li>
                            <li><a href="/sk/advanced/best-practice-performance.html">V√Ωkonnos≈• - osvedƒçen√© postupy</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <ul id="resources-menu" class="menu">
                    <li><a href="/sk/resources/glossary.html" >Zdroje</a>
                        <ul>
                            <li><a href="/sk/resources/glossary.html">Glos√°r</a>
                            </li>
                            <li><a href="/sk/resources/middleware.html">Middleware</a>
                            </li>
                            <li><a href="/sk/resources/community.html">Komunita</a>
                            </li>
                            <li><a href="/sk/resources/frameworks.html">Frameworky</a>
                            </li>
                            <li><a href="/sk/resources/learning.html">Dodatoƒçn√© vzdel√°vanie</a>
                            </li>
                            <li><a href="/sk/resources/companies-using-express.html">Firmy pou≈æ√≠vaj√∫ce Express</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</header>


      <div id="overlay"></div>

      
        <div id="i18n-notice-box" class="doc-box doc-warn">
          <p>Tento dokument m√¥≈æe by≈• v porovnan√≠ s dokument√°ciou v angliƒçtine zastaral√Ω. Aktu√°lne inform√°cie n√°jdete v <a href="/">dokument√°cii v angliƒçtine</a>.
</p>
<div id="close-i18n-notice-box" title="Close">‚úñ</div>

        </div>
      
      <div id="page-doc" markdown="1">
<!---
 Copyright (c) 2016 StrongLoop, IBM, and Express Contributors
 License: MIT
-->

<h1 id="tvorba-middleware-pre-pouitie-v-express-aplikcich">Tvorba middleware pre pou≈æitie v Express aplik√°ci√°ch</h1>

<h2>Prehƒæad</h2>

<p><em>Middleware</em> funkcie s√∫ funkcie, ktor√© maj√∫ pr√≠stup k <a href="/4x/api.html#req">request objektu</a>  (<code>req</code>), <a href="/4x/api.html#res">response objektu</a> (<code>res</code>) a nasleduj√∫cej middleware funkcii v request-response cykle aplik√°cie. Nasleduj√∫ca middleware funkcia v porad√≠ je be≈æne oznaƒçovan√° premennou <code>next</code>.</p>

<p>Middleware funkcie dok√°≈æu vykon√°va≈• nasleduj√∫ce √∫lohy:</p>

<ul>
  <li>Vykona≈• ak√Ωkoƒævek k√≥d.</li>
  <li>Vykona≈• zmeny na request a response objektoch.</li>
  <li>Ukonƒçi≈• request-response cyklus.</li>
  <li>Zavola≈• nasleduj√∫cu middleware funkciu v porad√≠.</li>
</ul>

<p>Ak aktu√°lna middleware funkcia neukonƒçuje request-response cyklus, mus√≠ posun√∫≈• obsluhu nasleduj√∫cej middleware funkcii vyvolan√≠m <code>next()</code>. V opaƒçnom pr√≠pade zostane request ‚Äòvisie≈•‚Äô.</p>

<p>Nasleduj√∫ci diagram ukazuje jednotliv√© ƒçasti volania middleware funkcie:</p>

<table id="mw-fig">
<tr><td id="mw-fig-imgcell">
<img src="/images/express-mw.png" id="mw-fig-img" />
</td>
<td class="mw-fig-callouts">
<div class="callout" id="callout1">HTTP met√≥da pre ktor√∫ je middleware funkcia aplikovateƒæn√°.</div>

<div class="callout" id="callout2">Cesta (route) pre ktor√∫ je middleware funkcia aplikovateƒæn√°.</div>

<div class="callout" id="callout3">Middleware funkcia.</div>

<div class="callout" id="callout4">Callback argument k middleware funkcii, nazvan√Ω "next" podƒæa konvencie.</div>

<div class="callout" id="callout5">HTTP <a href="/en/4x/api.html#res">response</a> argument k middleware funkcii, nazvan√Ω "res" podƒæa konvencie.</div>

<div class="callout" id="callout6">HTTP <a href="/en/4x/api.html#req">request</a> argument k middleware funkcii, nazvan√Ω "req" podƒæa konvencie.</div>
</td></tr>
</table>

<h2>Pr√≠klad</h2>

<p>Tu je pr√≠klad jednoduchej ‚ÄúHello World‚Äù Express aplik√°cie.
Zvy≈°n√° ƒças≈• tohto ƒçl√°nku definuje a prid√°va do aplik√°cie dve middleware funkcie:
jedna nazvan√° <code>myLogger</code> ktor√° vyp√≠≈°e jednoduch√∫ log message a druh√° nazvan√° <code>requestTime</code> ktor√° vyp√≠≈°e timestamp HTTP requestu.</p>

<pre>
<code class="language-javascript" translate="no">
var express = require('express');
var app = express();

app.get('/', function (req, res) {
  res.send('Hello World!');
});

app.listen(3000);
</code>
</pre>

<h2>Middleware funkcia myLogger</h2>

<p>Tu je pr√≠klad jednoduchej middleware funkcie nazvanej ‚ÄúmyLogger‚Äù. T√°to funkcia len vyp√≠≈°e ‚ÄúLOGGED‚Äù, v≈ædy keƒè aplik√°cia odchyt√≠ request. Middleware funkcia je priraden√° premennej nazvanej <code>myLogger</code>.</p>

<pre>
<code class="language-javascript" translate="no">
var myLogger = function (req, res, next) {
  console.log('LOGGED');
  next();
};
</code>
</pre>

<div class="doc-box doc-notice">
  <p>V≈°imnite si volanie <code>next()</code> met√≥dy hore. Zavolanie tejto funkcie vyvol√° ƒèal≈°√≠ middleware v aplik√°cii.
Funkcia <code>next()</code> nie je s√∫ƒças≈•ou Node.js ƒçi Express API, ale je tret√≠m argumentom s ktor√Ωm je middleware funkcia vyvolan√°.
Funkcia <code>next()</code> m√¥≈æe by≈• nazvan√° hocijako, ale podƒæa konvencie sa zvykne naz√Ωva≈• v≈ædy ‚Äúnext‚Äù.
Aby ste predi≈°li zm√§tkom pou≈æ√≠vajte t√∫to konvenciu.</p>
</div>

<p>Pre naƒç√≠tanie middleware funkcie zavolajte <code>app.use()</code>, prostredn√≠ctvom ktorej ho ≈°pecifikujete.
Nasleduj√∫ci k√≥d naƒç√≠ta <code>myLogger</code> middleware funkciu e≈°te pred route defin√≠ciou hlavnej cesty aplik√°cie (/).</p>

<pre>
<code class="language-javascript" translate="no">
var express = require('express');
var app = express();

var myLogger = function (req, res, next) {
  console.log('LOGGED');
  next();
};

app.use(myLogger);

app.get('/', function (req, res) {
  res.send('Hello World!');
});

app.listen(3000);
</code>
</pre>

<p>V≈ædy keƒè aplik√°cia obdr≈æ√≠ request po≈æiadavku, vyp√≠≈°e do konzoly spr√°vu ‚ÄúLOGGED‚Äù.</p>

<p>Poradie naƒç√≠tania middleware-ov je d√¥le≈æit√©: middleware funkcie, ktor√© s√∫ naƒç√≠tane prv√©, s√∫ aj ako prv√© vyvolan√©.</p>

<p>Ak by <code>myLogger</code> bol naƒç√≠tan√Ω a≈æ za defin√≠ciou route pre hlavn√∫ str√°nku aplik√°cie, nikdy by ho request nedosiahol a aplik√°cia by nevyp√≠sala ‚ÄúLOGGED‚Äù, preto≈æe route handler ukonƒç√≠ request-response cyklus.</p>

<p>T√°to <code>myLogger</code> middleware funkcia len vypisuje spr√°vu a posunie spracovanie ƒèal≈°ej middleware funkcii v porad√≠ zavolan√≠m funkcie <code>next()</code>.</p>

<h3>Middleware funkcia requestTime</h3>

<p>ƒéalej vytvor√≠me middleware funkciu s n√°zvom ‚ÄúrequestTime‚Äù a ktor√° prid√°va <code>requestTime</code> atrib√∫t na request objekt.</p>

<pre>
<code class="language-javascript" translate="no">
var requestTime = function (req, res, next) {
  req.requestTime = Date.now();
  next();
};
</code>
</pre>

<p>Aplik√°cia teraz pou≈æ√≠va <code>requestTime</code> middleware funkciu. Taktie≈æ callback funkcia pre obsluhu route hlavnej str√°nky aplik√°cie pou≈æ√≠va atrib√∫t, ktor√Ω t√°to middleware funkcia pridala na <code>req</code> (request objekt).</p>

<pre>
<code class="language-javascript" translate="no">
var express = require('express');
var app = express();

var requestTime = function (req, res, next) {
  req.requestTime = Date.now();
  next();
};

app.use(requestTime);

app.get('/', function (req, res) {
  var responseText = 'Hello World!<br />';
  responseText += '<small>Requested at: ' + req.requestTime + '</small>';
  res.send(responseText);
});

app.listen(3000);
</code>
</pre>

<p>Po vykonan√≠ requestu na hlavn√∫ str√°nku aplik√°cie sa zobraz√≠ v prehliadaƒçi timestamp v√°≈°ho requestu.</p>

<p>Keƒè≈æe m√°te pr√≠stup k request a response objektu, ƒèal≈°ej middleware funkcii v porad√≠ a cel√©mu Node.js API, mo≈ænosti middleware funkci√≠ s√∫ nekoneƒçn√©.</p>

<p>Pre viac inform√°ci√≠ ohƒæadom Express middleware si pozrite: <a href="/sk/guide/using-middleware.html">Pou≈æitie Express middleware</a>.</p>

      </div>
    </section>

    <a id="top" href="#"><img src="/images/arrow.png"></a>

<footer>
    <div id="footer-content">
        <div id="github">
            <iframe src="https://ghbtns.com/github-btn.html?user=expressjs&repo=express&type=star&count=true" frameborder="0" scrolling="0" width="200px" height="20px"></iframe>
        </div>
        <div id="sponsor"><a href="https://expressjs.com">Express</a> je projekt patriaci pod <a href="https://openjsf.org">Nad√°cie OpenJS</a>.</div>
        <div id="fork"><a href="https://github.com/expressjs/expressjs.com">Editova≈• str√°nku na GitHub-e</a>.</div>
        <div>Copyright &copy; 2016 StrongLoop, IBM a ostatn√≠ expressjs.com prispievatelia.</div>
    </div>
    <div id="license">
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/us/80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/">Creative Commons Attribution-ShareAlike 3.0 United States License</a>.
    </div>
</footer>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '7164e33055faa6ecddefd9e08fc59f5d',
  indexName: 'expressjs',
  inputSelector: '#q',
  algoliaOptions: { 'facetFilters': ['lang:sk'] }
})" async></script>



  </body>

</html>

